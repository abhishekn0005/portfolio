<!DOCTYPE html>
<html>

<head>
    <title>Portfolio</title>
    <meta charset="utf-8">
    <script src="https://kit.fontawesome.com/8f02f80272.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body onload="askName()" id="main">

    <div class="bg"></div>

    <div class="entry">
        <p class="userpara"></p>
        <p class="noUser"></p>
    </div>

    <div id="load" class="loading">
        <div class="loader"></div>
        <div class="placecenter">
            <!-- <a href="javascript:void(0)" class="closeloadbtn" onclick="closeLoading()">&times;</a> -->
            <h3 style="color: white;">Just a second...</h3>
        </div>
    </div>

    <div>
        <button id="bar" onclick="openNav()"><i class="fas fa-bars"></i></button>
    </div>

    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <a href="#"><img src="images/myPhoto.png" alt="Developer_Image" width="120px" height="120px"></a>
        <a href="#">About</a>
        <a href="#">Contact</a>
    </div>

    <div>
        <button id="update" onclick="updatesFunction()">Updates</button>
    </div>

    <div id="updateform">
        <a href="javascript:void(0)" class="closeupdatebtn" onclick="closeUpdateBtn()">&times;</a>
        <p class="paragraph">Added the date function</p>
        <p id="date" class="dateshort"></p>
        <hr>
    </div>

    <div id="cen">
        <label for="thething"></label>
        <select name="box" id="thething">
            <option value="">Please select year</option>
            <option value="2021"><a href="humanoid.html">2021</a></option>
            <option value="2020">2020</option>
            <option value="2019">2019</option>
            <option value="2018">2018</option>
        </select>
        <button id="lookup">Look up</button>
    </div>
    <div>
        <button id="forinfo" onclick="ibtn()"><i class="fas fa-info-circle"></i></button>
    </div>

    <div id="thebox">
        <div id="theboxpara"></div>
    </div>

    <div>
        <button id="chat"><i class="far fa-comment"></i></button>
    </div>

    <script defer>

        //prompt to ask user for name
        function askName() {
            let username = sessionStorage.getItem('username');

            if (username === null) {
                username = prompt("Give me a chance to make this seesion interactive, please enter your name.");
            }

            if (username !== null) {
                document.querySelector(".userpara").innerHTML = "Hello, " + username + '!';
                sessionStorage.setItem('username', username);
            } else {
                document.querySelector(".noUser").innerHTML = "Welcome, Stranger!";
            }
        }

        /* let bar = document.getElementById("bar");
        bar.addEventListener('click', myFunction); */

        //for side navigation bar
        //var count = 0;

        function openLoading() {
            document.getElementById("load").style.width = "100%";
            setTimeout(function closeLoading() {
                document.getElementById("load").style.width = "0";
                document.getElementById("mySidenav").style.width = "250px";
                document.getElementById("bar").style.display = "none";
                document.getElementById("forinfo").style.display = "none";
            }, 1000);
        }

        function openNav() {
            //if (count === 0) {
            openLoading();
            //    count++;
            /*} else {
                document.getElementById("mySidenav").style.width = "250px";
                document.getElementById("bar").style.display = "none";
                document.getElementById("forinfo").style.display = "none";
            }*/
        }

        function closeNav() {
            document.getElementById("mySidenav").style.width = "0";
            document.getElementById("bar").style.display = "block";
            document.getElementById("forinfo").style.display = "block";
        }

        function myFunction() {
            alert('Oops! It doesn\'t work');
        }

        /*
        let test = document.getElementById("update");
        test.addEventListener('click', myFunction);
        */

        function updatesFunction() {
            // var x = document.lastModified;
            //document.getElementById("demopara").innerHTML = x;
            document.getElementById("updateform").style.display = "block";
            forDateUpdate();
        }

        function forDateUpdate() {
            var x = new Date(document.lastModified);
            const store = document.getElementById("date").innerHTML = x;
            p.appendChild(store);
        }

        function closeUpdateBtn(){
            document.getElementById("updateform").style.display = "none";
        }
        /*let fori = document.getElementById("forinfo");
        fori.addEventListener('click', myFunction);*/

        function ibtn() {
            document.getElementById("thebox").style.display = "block";
            const box = document.createElement("div");
            const para = document.createElement("p");
            box.appendChild(para);
            const node = document.createTextNode("This website has NO copyrights.");
            para.appendChild(node);
            const element = document.getElementById("thebox");
            element.appendChild(para);
        }

        let forChat = document.getElementById("chat");
        forChat.addEventListener('click', myFunction);
    </script>

</body>

</html>